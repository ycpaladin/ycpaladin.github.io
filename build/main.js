webpackJsonp([8],{114:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"i",function(){return r}),n.d(e,"e",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"a",function(){return u}),n.d(e,"f",function(){return a}),n.d(e,"j",function(){return c}),n.d(e,"h",function(){return l}),n.d(e,"g",function(){return _}),n.d(e,"b",function(){return f});var i="[Topics] Load",r="[Topics] ReLoad",o="[Topics] Load Success",s="[Topics] Load Fail",u="[Topics] ChangeTab",a=function(){return function(t){this.payload=t,this.type=i}}(),c=function(){return function(t){this.payload=t,this.type=r}}(),l=function(){return function(t){this.payload=t,this.type=o}}(),_=function(){return function(t){this.payload=t,this.type=s}}(),f=function(){return function(t){this.payload=t,this.type=u}}()},115:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"f",function(){return u}),n.d(e,"e",function(){return a});var i="[Topic] Reply",r="[Topic] Reply Success",o="[Topic] Reply Fail",s=function(){return function(t){this.payload=t,this.type=i}}(),u=function(){return function(t){this.payload=t,this.type=r}}(),a=function(){return function(t){this.payload=t,this.type=o}}()},116:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"f",function(){return u}),n.d(e,"e",function(){return a});var i="[Message] Load",r="[Message] Load Success",o="[Message] Load Fail",s=function(){return function(){this.type=i}}(),u=function(){return function(t){this.payload=t,this.type=r}}(),a=function(){return function(t){this.payload=t,this.type=o}}()},117:function(t,e,n){"use strict";n.d(e,"a",function(){return s});n(0);var i=n(350),r=(n.n(i),n(13),n(20)),o=n(114),s=function(){function t(t){this.store=t,this.data=this.store.select(r.p),this.pageIndex=this.store.select(r.q),this.pageSize=this.store.select(r.s),this.isFetching=this.store.select(r.r),this.checkedUser=this.store.select(r.a)}return t.prototype.ngOnChanges=function(t){var e=this;this.store.dispatch(new o.b(this.tabName)),this.data.filter(function(t){return 0===t.length}).subscribe(function(){e.store.dispatch(new o.f({tabName:e.tabName,pageIndex:1}))}).unsubscribe()},t.prototype.doRefresh=function(t){this.store.dispatch(new o.j({tabName:this.tabName,pageIndex:1}));var e=this.isFetching.filter(function(t){return!1===t}).subscribe(function(n){t.complete(),void 0!==e&&e.unsubscribe()})},t.prototype.doInfinite=function(t){var e=this;this.pageIndex.subscribe(function(n){e.store.dispatch(new o.f({tabName:e.tabName,pageIndex:n+1}));var i=e.isFetching.filter(function(t){return!1===t}).subscribe(function(e){t.complete(),void 0!==i&&i.unsubscribe()})}).unsubscribe()},t}()},129:function(t,e,n){"use strict";n.d(e,"a",function(){return i});n(0),n(32),n(64),n(18),n(131),n(37),n(117),n(317),n(312),n(318),n(319),n(313),n(314),n(94),n(320),n(321),n(322),n(311),n(310);var i=function(){return function(){}}()},131:function(t,e,n){"use strict";n.d(e,"a",function(){return i});n(0),n(141);var i=function(){return function(){}}()},141:function(t,e,n){"use strict";n.d(e,"a",function(){return o});n(0);var i=n(1),r=n.n(i),o=function(){function t(t){this.ele=t}return t.prototype.ngOnInit=function(){this.ele.nativeElement.innerText=r()(this.dateTime).locale("zh-cn").fromNow()},t}()},142:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"f",function(){return u}),n.d(e,"e",function(){return a});var i="[Collect] Load",r="[Collect] Load Success",o="[Collect] Load Fail",s=function(){return function(){this.type=i}}(),u=function(){return function(t){this.payload=t,this.type=r}}(),a=function(){return function(t){this.payload=t,this.type=o}}()},152:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=152},161:function(t,e,n){function i(t){var e=r[t];return e?n.e(e[1]).then(function(){return n(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}var r={"../pages/add/add.module.ngfactory":[395,3],"../pages/article/article.module.ngfactory":[396,5],"../pages/collect/collect.module.ngfactory":[397,7],"../pages/detials/detials.module.ngfactory":[398,1],"../pages/edit/edit.module.ngfactory":[399,2],"../pages/foot-mark/foot-mark.module.ngfactory":[400,4],"../pages/message/message.module.ngfactory":[401,6],"../pages/mine/mine.module.ngfactory":[402,0]};i.keys=function(){return Object.keys(r)},i.id=161,t.exports=i},167:function(t,e,n){"use strict";e.f=function(t,e){switch(void 0===t&&(t=r),e.type){case i.a:return Object.assign({},t,{tabName:e.payload});case i.c:return Object.assign({},t,{isFetching:!0,tabName:e.payload.tabName});case i.i:return Object.assign({},t,{isFetching:!0,tabName:e.payload.tabName,topics:Object.assign({},t.topics,(a={},a[e.payload.tabName]={pageIndex:1,data:[]},a))});case i.e:var n=e.payload,o=n.tabName,s=n.pageIndex,u=n.topics;return Object.assign({},t,{isFetching:!1,tabName:o,topics:Object.assign({},t.topics,(c={},c[o]={pageIndex:s,data:t.topics[o].data.concat(u)},c))});case i.d:default:return t}var a,c},n.d(e,"a",function(){return o}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var i=n(114),r={isFetching:!1,tabName:"dev",pageSize:15,topics:{all:{pageIndex:0,scrollHeight:0,data:[]},good:{pageIndex:0,scrollHeight:0,data:[]},share:{pageIndex:0,scrollHeight:0,data:[]},ask:{pageIndex:0,scrollHeight:0,data:[]},job:{pageIndex:0,scrollHeight:0,data:[]},dev:{pageIndex:0,scrollHeight:0,data:[]}}},o=function(t){return t.tabName},s=function(t){return t.pageSize},u=function(t){return t.isFetching},a=function(t){return t.topics[t.tabName].data},c=function(t){return t.topics[t.tabName].pageIndex}},168:function(t,e,n){"use strict";e.f=function(t,e){switch(void 0===t&&(t=u),e.type){case o.a:return Object.assign({},t,{isFetching:!1,error:!1,message:""});case o.c:return Object.assign({},t,{isFetching:!1,error:!1,message:"",topic:s({},t.topic,{replies:e.payload.replies.slice()})});case o.b:return Object.assign({},t,{isFetching:!1,error:!0,message:e.payload});case r.u:return Object.assign({},t,{isFetching:!0,error:!1,topic:i.a,message:""});case r.w:return Object.assign({},t,{isFetching:!1,error:!1,topic:e.payload});case r.J:return t.topic.replies.find(function(t){return t.id===e.payload.replyId}).is_uped="up"===e.payload.upType,t;case r.f:case r.l:return Object.assign({},t,{isFetching:!1,error:!1,message:"",topic:s({},t.topic,{is_collect:!t.topic.is_collect})});case r.e:case r.k:case r.v:case r.d:case r.j:default:return t}},n.d(e,"d",function(){return a}),n.d(e,"c",function(){return c}),n.d(e,"a",function(){return l}),n.d(e,"b",function(){return _}),n.d(e,"e",function(){return f});var i=n(169),r=n(48),o=n(115),s=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},u={isFetching:!1,error:!1,message:"",topic:i.a},a=function(t){return t.isFetching},c=function(t){return t.topic},l=function(t){return t.topic.replies},_=function(t){return t.error},f=function(t){return t.message}},169:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={id:"",author_id:"",tab:"",content:"",title:"",last_reply_at:new Date,good:!1,top:!1,reply_count:0,visit_count:0,create_at:new Date,author:{loginname:"",avatar_url:""},replies:[],is_collect:!1}},170:function(t,e,n){"use strict";e.h=function(t,e){switch(void 0===t&&(t=o),e.type){case r.b:return void 0!=e.payload&&null!=e.payload?Object.assign({},t,{checked:!0,user:e.payload}):t;case i.a:return Object.assign({},t,{isFetching:!0,error:!1,message:void 0});case i.c:return Object.assign({},t,{isFetching:!1,user:e.payload});case i.b:return Object.assign({},t,{isFetching:!1,error:!0,message:e.payload});case i.e:return Object.assign({},t,{isFetching:!1,user:void 0});default:return t}},n.d(e,"f",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"a",function(){return l}),n.d(e,"b",function(){return _}),n.d(e,"e",function(){return f});var i=n(42),r=n(171),o={isFetching:!1,checked:!1,error:!1,message:void 0,user:void 0},s=function(t){return t.user},u=function(t){return t.error},a=function(t){return t.message},c=function(t){return void 0!==t.user&&null!==t.user},l=function(t){return t.checked},_=function(t){return t.user&&t.user.accessToken},f=function(t){return t.user&&t.user.loginname}},171:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return s});var i="[App] Initial",r="[App] Initial Success",o=function(){return function(){this.type=i}}(),s=function(){return function(t){this.payload=t,this.type=r}}()},172:function(t,e,n){"use strict";e.f=function(t,e){switch(void 0===t&&(t=s),e.type){case r.a:return Object.assign({},t,{isFetching:!0,error:!1,message:void 0});case r.e:return Object.assign({},t,{isFetching:!1,detials:e.payload});case r.d:return Object.assign({},t,{isFetching:!1,currentUserDetials:e.payload});case r.b:case r.c:return Object.assign({},t,{isFetching:!1,error:!0,message:e.payload});case o.e:return Object.assign({},t,{currentUserDetials:i.a});default:return t}},n.d(e,"e",function(){return u}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"c",function(){return _});var i=n(82),r=n(98),o=n(42),s={isFetching:!1,error:!1,message:void 0,detials:i.a,currentUserDetials:i.a},u=function(t){return t.detials},a=function(t){return t.currentUserDetials},c=function(t){return t.error},l=function(t){return t.isFetching},_=function(t){return t.message}},173:function(t,e,n){"use strict";e.d=function(t,e){switch(void 0===t&&(t=o),e.type){case i.a:return Object.assign({},t,{isFetching:!0,error:!1,message:void 0});case i.c:return Object.assign({},t,{isFetching:!1,message:void 0,hasRead:e.payload.has_read_messages,hasNotRead:e.payload.hasnot_read_messages});case i.b:return Object.assign({},t,{isFetching:!1,error:!0,message:e.payload});case r.e:return Object.assign({},t,{hasRead:[],hasNotRead:[]});default:return t}},n.d(e,"b",function(){return s}),n.d(e,"a",function(){return u}),n.d(e,"c",function(){return a});var i=n(116),r=n(42),o={isFetching:!1,message:void 0,error:!1,hasRead:[],hasNotRead:[]},s=function(t){return t.hasRead},u=function(t){return t.hasNotRead},a=function(t){return t.isFetching}},174:function(t,e,n){"use strict";e.f=function(t,e){switch(void 0===t&&(t=s),e.type){case r.f:case r.l:return Object.assign({},t,{collect:[],shouldReload:!0});case i.a:return Object.assign({},t,{isFetching:!0,message:void 0,error:!1});case i.c:return Object.assign({},t,{isFetching:!1,collect:e.payload,shouldReload:!1});case i.b:return Object.assign({},t,{isFetching:!1,error:!0,message:e.payload});case o.e:return Object.assign({},t,{collect:[]});default:return t}},n.d(e,"a",function(){return u}),n.d(e,"c",function(){return a}),n.d(e,"b",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return _});var i=n(142),r=n(48),o=n(42),s={isFetching:!1,message:void 0,error:!1,collect:[],shouldReload:!0},u=function(t){return t.collect},a=function(t){return t.isFetching},c=function(t){return t.error},l=function(t){return t.message},_=function(t){return t.shouldReload}},175:function(t,e,n){"use strict";e.c=function(t,e){switch(void 0===t&&(t=r),e.type){case i.a:case i.p:return Object.assign({},t,{error:void 0,message:void 0});case i.c:case i.r:return Object.assign({},t,{error:!1,message:"操作成功."});case i.b:case i.q:return Object.assign({},t,{error:!0,message:e.payload});case i.s:case i.t:return Object.assign({},t,{error:void 0,message:void 0});default:return t}},n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var i=n(48),r={error:void 0,message:void 0},o=function(t){return t.error},s=function(t){return t.message}},20:function(t,e,n){"use strict";n.d(e,"p",function(){return f}),n.d(e,"q",function(){return h}),n.d(e,"s",function(){return d}),n.d(e,"r",function(){return p}),n.d(e,"n",function(){return g}),n.d(e,"m",function(){return y}),n.d(e,"l",function(){return m}),n.d(e,"o",function(){return j}),n.d(e,"t",function(){return O}),n.d(e,"x",function(){return S}),n.d(e,"a",function(){return R}),n.d(e,"b",function(){return w}),n.d(e,"w",function(){return C}),n.d(e,"v",function(){return T}),n.d(e,"j",function(){return I}),n.d(e,"u",function(){return E}),n.d(e,"e",function(){return k}),n.d(e,"i",function(){return D}),n.d(e,"h",function(){return F}),n.d(e,"k",function(){return M}),n.d(e,"c",function(){return N}),n.d(e,"d",function(){return U}),n.d(e,"f",function(){return z}),n.d(e,"g",function(){return H});var i=n(347),r=(n.n(i),n(167)),o=n(168),s=n(170),u=n(172),a=n(173),c=n(174),l=n(175),_=function(t){return t.topics},f=Object(i.createSelector)(_,r.b),h=Object(i.createSelector)(_,r.c),d=Object(i.createSelector)(_,r.e),p=(Object(i.createSelector)(_,r.a),Object(i.createSelector)(_,r.d)),b=function(t){return t.topic},g=Object(i.createSelector)(b,o.d),y=Object(i.createSelector)(b,o.c),m=Object(i.createSelector)(b,o.a),j=(Object(i.createSelector)(b,o.b),Object(i.createSelector)(b,o.e)),v=function(t){return t.user},O=Object(i.createSelector)(v,s.f),S=Object(i.createSelector)(v,s.g),R=Object(i.createSelector)(v,s.a),w=Object(i.createSelector)(v,s.b),C=Object(i.createSelector)(v,s.d),T=Object(i.createSelector)(v,s.c),I=Object(i.createSelector)(v,s.e),A=function(t){return t.ud},E=Object(i.createSelector)(A,u.e),k=Object(i.createSelector)(A,u.a),P=(Object(i.createSelector)(A,u.d),Object(i.createSelector)(A,u.c),Object(i.createSelector)(A,u.b),function(t){return t.msg}),D=Object(i.createSelector)(P,a.b),F=Object(i.createSelector)(P,a.a),M=Object(i.createSelector)(P,a.c),L=function(t){return t.collect},N=Object(i.createSelector)(L,c.a),U=(Object(i.createSelector)(L,c.d),Object(i.createSelector)(L,c.c),Object(i.createSelector)(L,c.b),Object(i.createSelector)(L,c.e)),$=function(t){return t.form},z=Object(i.createSelector)($,l.a),H=Object(i.createSelector)($,l.b)},310:function(t,e,n){"use strict";n.d(e,"a",function(){return i});n(0),n(169),n(18);var i=function(){function t(){}return Object.defineProperty(t.prototype,"isValid",{get:function(){return this.form.valid},enumerable:!0,configurable:!0}),t}()},311:function(t,e,n){"use strict";n.d(e,"a",function(){return i});n(0),n(82);var i=function(){return function(){}}()},312:function(t,e,n){"use strict";n.d(e,"a",function(){return i});n(0);var i=function(){return function(){}}()},313:function(t,e,n){"use strict";n.d(e,"a",function(){return o});n(0),n(82);var i=n(1),r=n.n(i),o=function(){function t(){}return t.prototype.ngOnInit=function(){},t.prototype.format=function(t){return r()(t).locale("zh-cn").format("ll")},t}()},314:function(t,e,n){"use strict";n.d(e,"a",function(){return i});n(0),n(82);var i=function(){function t(){this.isSelf=!1}return t.prototype.ngOnInit=function(){},t}()},315:function(t,e,n){"use strict";function i(t){return a._27(0,[(t()(),a._5(0,null,null,1,"span",[],[[2,"top",null]],null,null,null,null)),(t()(),a._25(null,["置顶"]))],null,function(t,e){t(e,0,0,e.component.item.top)})}function r(t){return a._27(0,[(t()(),a._5(0,null,null,1,"span",[],[[2,"good",null]],null,null,null,null)),(t()(),a._25(null,["精华"]))],null,function(t,e){t(e,0,0,e.component.item.good)})}function o(t){return a._27(0,[(t()(),a._5(0,null,null,1,"span",[["class","right from-now"]],null,null,null,null,null)),a._4(81920,null,0,c.a,[a.k],{dateTime:[0,"dateTime"]},null)],function(t,e){t(e,1,0,e.component.item.create_at)},null)}function s(t){return a._27(0,[(t()(),a._5(0,null,null,1,"span",[["class","right from-now"]],null,null,null,null,null)),a._4(81920,null,0,c.a,[a.k],{dateTime:[0,"dateTime"]},null)],function(t,e){t(e,1,0,e.component.item.last_reply_at)},null)}function u(t){return a._27(0,[(t()(),a._5(0,null,null,29,"ion-item",[["class","item item-block"]],null,[[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.to()&&i),i},_.b,_.a)),a._4(1097728,null,3,f.a,[h.a,d.a,a.k,a.F,[2,p.a]],null,null),a._23(335544320,1,{contentLabel:0}),a._23(603979776,2,{_buttons:1}),a._23(603979776,3,{_icons:1}),a._4(16384,null,0,b.a,[],null,null),(t()(),a._25(2,["\n  "])),(t()(),a._25(2,["\n  "])),(t()(),a._25(2,["\n\n  "])),(t()(),a._5(0,null,2,1,"h2",[["class","cnode-list-item-title"]],null,null,null,null,null)),(t()(),a._25(null,["",""])),(t()(),a._25(2,["\n  "])),(t()(),a._5(0,null,2,16,"div",[],null,null,null,null,null)),(t()(),a._25(null,["\n    "])),(t()(),a._1(16777216,null,null,1,null,i)),a._4(16384,null,0,g.i,[a.P,a.M],{ngIf:[0,"ngIf"]},null),(t()(),a._25(null,["\n    "])),(t()(),a._1(16777216,null,null,1,null,r)),a._4(16384,null,0,g.i,[a.P,a.M],{ngIf:[0,"ngIf"]},null),(t()(),a._25(null,["\n    "])),(t()(),a._5(0,null,null,1,"span",[],null,null,null,null,null)),(t()(),a._25(null,["",""])),(t()(),a._25(null,["\n    "])),(t()(),a._1(16777216,null,null,1,null,o)),a._4(16384,null,0,g.i,[a.P,a.M],{ngIf:[0,"ngIf"]},null),(t()(),a._25(null,["\n    "])),(t()(),a._1(16777216,null,null,1,null,s)),a._4(16384,null,0,g.i,[a.P,a.M],{ngIf:[0,"ngIf"]},null),(t()(),a._25(null,["\n    \n    "])),(t()(),a._25(2,["\n"])),(t()(),a._25(null,["\n"]))],function(t,e){var n=e.component;t(e,15,0,n.item.top),t(e,18,0,n.item.good),t(e,24,0,n.item.create_at),t(e,27,0,n.item.last_reply_at&&!n.item.create_at)},function(t,e){var n=e.component;t(e,10,0,n.item.title),t(e,21,0,n.item.author.loginname)})}n.d(e,"a",function(){return j}),e.b=u;var a=n(0),c=n(141),l=n(94),_=n(130),f=n(28),h=n(19),d=n(2),p=n(41),b=n(66),g=n(12),y=n(14),m=[],j=a._3({encapsulation:2,styles:m,data:{}});a._2("cnode-topic-item",l.a,function(t){return a._27(0,[(t()(),a._5(0,null,null,1,"cnode-topic-item",[],null,null,null,u,j)),a._4(49152,null,0,l.a,[y.a],null,null)],null,null)},{item:"item",tabName:"tabName"},{},[])},317:function(t,e,n){"use strict";n.d(e,"a",function(){return i});n(0);var i=function(){return function(){this.text="正在加载..."}}()},318:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),r=(n(13),n(20)),o=n(115),s=function(){function t(t){this.store=t,this.onError=new i.m(!0),this.user=this.store.select(r.t)}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){this.content=this.replyItem?"@"+this.replyItem.author.loginname+" ":""},t.prototype.reply=function(){""!==this.content?this.store.dispatch(new o.d({topicId:this.topicId,content:this.content,replyId:this.replyItem&&this.replyItem.id})):this.onError.emit("回复内容不能为空")},t.prototype.ngOnDestroy=function(){},t}()},319:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(0),r=(n(32),n(140)),o=(n.n(r),n(13),n(20)),s=n(48),u=n(323),a=n.n(u),c=function(){function t(t,e,n,r){this.navCtrl=t,this.store=e,this.actionSheetCtrl=n,this.toastCtrl=r,this.onError=new i.m(!0),this.onSelectedItem=new i.m(!0),this.replies=this.store.select(o.l),this.user=this.store.select(o.t),this.isLogin=this.store.select(o.x)}return t.prototype.openMenu=function(t){var e=this;Object(r.zip)(this.user,this.isLogin).subscribe(function(n){var i=n[0];if(!1!==n[1]){var r=t.is_uped?"取消赞":"赞";e.actionSheetCtrl.create({title:"@"+t.author.loginname,buttons:[{text:"回复",handler:function(){e.onSelectedItem.emit(t)}},{text:r,handler:function(){t.author.loginname!==i.loginname?e.store.dispatch(new s.K(t.id)):e.onError.emit("自己给自己点赞的行为是不允许的哦！")}}]}).present()}}).unsubscribe()},t.prototype.convertMark=function(t){return a()(t)},t.prototype.toUserDetials=function(t,e){t.stopPropagation(),this.navCtrl.push("page-detials",{loginname:e})},t}()},320:function(t,e,n){"use strict";n.d(e,"a",function(){return o});n(0),n(13);var i=n(20),r=n(116),o=function(){return function(t){(this.store=t).dispatch(new r.d),this.isFetching=this.store.select(i.k),this.hasRead=this.store.select(i.i),this.hasNotRead=this.store.select(i.h)}}()},321:function(t,e,n){"use strict";n.d(e,"a",function(){return i});n(0),n(32);var i=function(){function t(t){this.navCtrl=t}return t.prototype.toUser=function(t){this.navCtrl.push("page-detials",{loginname:t})},t.prototype.toArticle=function(t){this.navCtrl.push("ArticlePage",{id:t,tabName:this.title})},t}()},322:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),r=(n(32),n(42)),o=(n(13),n(20)),s=n(140),u=(n.n(s),function(){function t(t,e){var n=this;this.alertCtrl=t,this.store$=e,this.onError=new i.m,this.message=this.store$.select(o.w),this.error=this.store$.select(o.v),this.sub=Object(s.zip)(this.error,this.message).subscribe(function(t){var e=t[0],i=t[1];!0===e&&n.onError.emit(i)})}return t.prototype.login=function(){var t=this;this.alertCtrl.create({title:"登陆",message:"登陆cnode网站之后，进入设置页面，在最下面找到Access Token字符串并填写在下面",inputs:[{name:"accessToken",placeholder:"Access Token"}],buttons:[{text:"取消",handler:function(t){console.log("Cancel clicked")}},{text:"确定",handler:function(e){var n=e.accessToken;""!==n?t.store$.dispatch(new r.f(n)):t.onError.emit("Access Token不能为空字符串")}}]}).present()},t.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},t}())},324:function(t,e,n){"use strict";function i(t){return l._27(0,[(t()(),l._5(0,null,null,2,"ion-nav",[],null,null,null,ae.b,ae.a)),l._4(4374528,null,0,ce.a,[[2,le.a],[2,_e.a],$t.a,fe.a,he.a,l.k,l.z,l.F,l.j,zt.h,ee.a,[2,de.a],Nt.a,l.l],{root:[0,"root"]},null),l._22(6144,null,pe.a,null,[ce.a]),(t()(),l._25(null,["\n"]))],function(t,e){t(e,1,0,e.component.rootPage)},null)}function r(t){return l._27(0,[(t()(),l._5(0,null,null,1,"cnode-topic-item",[],null,null,null,Pe.b,Pe.a)),l._4(49152,null,0,De.a,[_e.a],{item:[0,"item"],tabName:[1,"tabName"]},null)],function(t,e){var n=e.component;t(e,1,0,e.context.$implicit,n.tabName)},null)}function o(t){return l._27(0,[(t()(),l._5(0,null,null,26,"ion-content",[["class","cnode-list"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Ee.b,Ee.a)),l._4(4374528,null,0,ke.a,[fe.a,he.a,Nt.a,l.k,l.F,$t.a,Jt.a,l.z,[2,le.a],[2,_e.a]],null,null),(t()(),l._25(1,["\n  "])),(t()(),l._5(0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(t,e,n){var i=!0,r=t.component;return"ionRefresh"===e&&(i=!1!==r.doRefresh(n)&&i),i},null,null)),l._4(212992,null,0,Me.a,[he.a,ke.a,l.z,zt.h],null,{ionRefresh:"ionRefresh"}),(t()(),l._25(null,["\n    "])),(t()(),l._5(0,null,null,2,"ion-refresher-content",[["pullingIcon","arrow-dropdown"],["pullingText","下拉获取最新"],["refreshingSpinner","circles"],["refreshingText","正在获取..."]],[[1,"state",0]],null,null,Le.b,Le.a)),l._4(114688,null,0,Ne.a,[Me.a,fe.a],{pullingIcon:[0,"pullingIcon"],pullingText:[1,"pullingText"],refreshingSpinner:[2,"refreshingSpinner"],refreshingText:[3,"refreshingText"]},null),(t()(),l._25(null,["\n    "])),(t()(),l._25(null,["\n  "])),(t()(),l._25(1,["\n  "])),(t()(),l._5(0,null,1,6,"ion-list",[],null,null,null,null,null)),l._4(16384,null,0,Ue.a,[fe.a,l.k,l.F,he.a,zt.h,Nt.a],null,null),(t()(),l._25(null,["\n    "])),(t()(),l._1(16777216,null,null,2,null,r)),l._4(802816,null,0,Mt.h,[l.P,l.M,l.s],{ngForOf:[0,"ngForOf"]},null),l._20(131072,Mt.b,[l.h]),(t()(),l._25(null,["\n  "])),(t()(),l._25(1,["\n  "])),(t()(),l._5(0,null,1,6,"ion-infinite-scroll",[],null,[[null,"ionInfinite"]],function(t,e,n){var i=!0,r=t.component;return"ionInfinite"===e&&(i=!1!==r.doInfinite(n)&&i),i},null,null)),l._4(1196032,null,0,$e.a,[ke.a,l.z,l.k,Nt.a],null,{ionInfinite:"ionInfinite"}),(t()(),l._25(null,["\n    "])),(t()(),l._5(0,null,null,2,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","正在获取..."]],[[1,"state",0]],null,null,ze.b,ze.a)),l._4(114688,null,0,He.a,[$e.a,fe.a],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null),(t()(),l._25(null,["\n    "])),(t()(),l._25(null,["\n  "])),(t()(),l._25(1,["\n"])),(t()(),l._25(null,["\n"]))],function(t,e){var n=e.component;t(e,4,0);t(e,7,0,"arrow-dropdown","下拉获取最新","circles","正在获取..."),t(e,15,0,l._26(e,15,0,l._18(e,16).transform(n.data)));t(e,23,0,"bubbles","正在获取...")},function(t,e){t(e,0,0,l._18(e,1).statusbarPadding,l._18(e,1)._hasRefresher),t(e,3,0,"inactive"!==l._18(e,4).state,l._18(e,4)._top),t(e,6,0,l._18(e,7).r.state),t(e,22,0,l._18(e,23).inf.state)})}function s(t){return l._27(0,[(t()(),l._5(0,null,null,11,"ion-fab",[["right",""],["top",""]],null,[[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.toAdd()&&i),i},me.b,me.a)),l._4(1228800,null,2,je.a,[he.a],null,null),l._23(335544320,2,{_mainButton:0}),l._23(603979776,3,{_fabLists:1}),(t()(),l._25(0,["\n      "])),(t()(),l._5(0,null,0,5,"button",[["ion-fab",""],["mini",""]],null,null,null,ve.b,ve.a)),l._4(49152,[[2,4]],0,Oe.a,[fe.a,l.k,l.F],null,null),(t()(),l._25(0,["\n          "])),(t()(),l._5(0,null,0,1,"ion-icon",[["name","add"],["role","img"]],[[2,"hide",null]],null,null,null,null)),l._4(147456,null,0,Se.a,[fe.a,l.k,l.F],{name:[0,"name"]},null),(t()(),l._25(0,["\n      "])),(t()(),l._25(0,["\n  "]))],function(t,e){t(e,9,0,"add")},function(t,e){t(e,8,0,l._18(e,9)._hidden)})}function u(t){return l._27(0,[(t()(),l._5(0,null,null,38,"ion-header",[],null,null,null,null,null)),l._4(16384,null,0,Re.a,[fe.a,l.k,l.F,[2,le.a]],null,null),(t()(),l._25(null,["\n  "])),(t()(),l._5(0,null,null,34,"ion-toolbar",[["class","toolbar"]],[[2,"statusbar-padding",null]],null,null,we.b,we.a)),l._4(49152,null,0,Ce.a,[fe.a,l.k,l.F],null,null),(t()(),l._25(3,["\n    "])),(t()(),l._5(0,null,3,30,"ion-segment",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"segment-disabled",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0,r=t.component;return"ngModelChange"===e&&(i=!1!==(r.pet=n)&&i),i},null,null)),l._4(671744,null,0,xt.m,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),l._22(2048,null,xt.i,null,[xt.m]),l._4(16384,null,0,xt.j,[xt.i],null,null),l._4(1196032,null,1,Te.a,[fe.a,l.k,l.F,[2,xt.i]],null,null),l._23(603979776,1,{_buttons:1}),(t()(),l._25(null,["\n      "])),(t()(),l._5(0,null,null,2,"ion-segment-button",[["class","segment-button"],["role","button"],["tappable",""],["value","all"]],[[2,"segment-button-disabled",null],[2,"segment-activated",null],[1,"aria-pressed",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==l._18(t,14).onClick()&&i),i},Ie.b,Ie.a)),l._4(114688,[[1,4]],0,Ae.a,[],{value:[0,"value"]},null),(t()(),l._25(0,["\n        全部\n      "])),(t()(),l._25(null,["\n      "])),(t()(),l._5(0,null,null,2,"ion-segment-button",[["class","segment-button"],["role","button"],["tappable",""],["value","good"]],[[2,"segment-button-disabled",null],[2,"segment-activated",null],[1,"aria-pressed",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==l._18(t,18).onClick()&&i),i},Ie.b,Ie.a)),l._4(114688,[[1,4]],0,Ae.a,[],{value:[0,"value"]},null),(t()(),l._25(0,["\n        精华\n      "])),(t()(),l._25(null,["\n      "])),(t()(),l._5(0,null,null,2,"ion-segment-button",[["class","segment-button"],["role","button"],["tappable",""],["value","share"]],[[2,"segment-button-disabled",null],[2,"segment-activated",null],[1,"aria-pressed",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==l._18(t,22).onClick()&&i),i},Ie.b,Ie.a)),l._4(114688,[[1,4]],0,Ae.a,[],{value:[0,"value"]},null),(t()(),l._25(0,["\n        分享\n      "])),(t()(),l._25(null,["\n      "])),(t()(),l._5(0,null,null,2,"ion-segment-button",[["class","segment-button"],["role","button"],["tappable",""],["value","ask"]],[[2,"segment-button-disabled",null],[2,"segment-activated",null],[1,"aria-pressed",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==l._18(t,26).onClick()&&i),i},Ie.b,Ie.a)),l._4(114688,[[1,4]],0,Ae.a,[],{value:[0,"value"]},null),(t()(),l._25(0,["\n        问答\n      "])),(t()(),l._25(null,["\n      "])),(t()(),l._5(0,null,null,2,"ion-segment-button",[["class","segment-button"],["role","button"],["tappable",""],["value","job"]],[[2,"segment-button-disabled",null],[2,"segment-activated",null],[1,"aria-pressed",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==l._18(t,30).onClick()&&i),i},Ie.b,Ie.a)),l._4(114688,[[1,4]],0,Ae.a,[],{value:[0,"value"]},null),(t()(),l._25(0,["\n        招聘\n      "])),(t()(),l._25(null,["\n      "])),(t()(),l._5(0,null,null,2,"ion-segment-button",[["class","segment-button"],["role","button"],["tappable",""],["value","dev"]],[[2,"segment-button-disabled",null],[2,"segment-activated",null],[1,"aria-pressed",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==l._18(t,34).onClick()&&i),i},Ie.b,Ie.a)),l._4(114688,[[1,4]],0,Ae.a,[],{value:[0,"value"]},null),(t()(),l._25(0,["\n        开发\n      "])),(t()(),l._25(null,["\n    "])),(t()(),l._25(3,["\n  "])),(t()(),l._25(null,["\n"])),(t()(),l._25(null,["\n\n"])),(t()(),l._5(0,null,null,9,"ion-content",[["class","list"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Ee.b,Ee.a)),l._4(4374528,null,0,ke.a,[fe.a,he.a,Nt.a,l.k,l.F,$t.a,Jt.a,l.z,[2,le.a],[2,_e.a]],null,null),(t()(),l._25(1,["\n  "])),(t()(),l._5(0,null,1,1,"cnode-topic-list",[],null,null,null,o,Be)),l._4(573440,null,0,Fe.a,[d.l],{tabName:[0,"tabName"]},null),(t()(),l._25(1,["\n  "])),(t()(),l._1(16777216,null,0,2,null,s)),l._4(16384,null,0,Mt.i,[l.P,l.M],{ngIf:[0,"ngIf"]},null),l._20(131072,Mt.b,[l.h]),(t()(),l._25(1,["\n"])),(t()(),l._25(null,["\n"]))],function(t,e){var n=e.component;t(e,7,0,n.pet);t(e,14,0,"all");t(e,18,0,"good");t(e,22,0,"share");t(e,26,0,"ask");t(e,30,0,"job");t(e,34,0,"dev"),t(e,44,0,n.pet),t(e,47,0,l._26(e,47,0,l._18(e,48).transform(n.isLogin)))},function(t,e){t(e,3,0,l._18(e,4)._sbPadding),t(e,6,0,l._18(e,9).ngClassUntouched,l._18(e,9).ngClassTouched,l._18(e,9).ngClassPristine,l._18(e,9).ngClassDirty,l._18(e,9).ngClassValid,l._18(e,9).ngClassInvalid,l._18(e,9).ngClassPending,l._18(e,10)._disabled),t(e,13,0,l._18(e,14)._disabled,l._18(e,14).isActive,l._18(e,14).isActive),t(e,17,0,l._18(e,18)._disabled,l._18(e,18).isActive,l._18(e,18).isActive),t(e,21,0,l._18(e,22)._disabled,l._18(e,22).isActive,l._18(e,22).isActive),t(e,25,0,l._18(e,26)._disabled,l._18(e,26).isActive,l._18(e,26).isActive),t(e,29,0,l._18(e,30)._disabled,l._18(e,30).isActive,l._18(e,30).isActive),t(e,33,0,l._18(e,34)._disabled,l._18(e,34).isActive,l._18(e,34).isActive),t(e,40,0,l._18(e,41).statusbarPadding,l._18(e,41)._hasRefresher)})}function a(t){return l._27(0,[(t()(),l._5(0,null,null,9,"ion-tabs",[],null,null,null,Ve.b,Ve.a)),l._4(4374528,null,0,Xe.a,[[2,_e.a],[2,le.a],$t.a,fe.a,l.k,he.a,l.F,de.a,Jt.a],null,null),l._22(6144,null,pe.a,null,[Xe.a]),(t()(),l._25(0,["\n  "])),(t()(),l._5(0,null,0,1,"ion-tab",[["role","tabpanel"],["tabIcon","home"],["tabTitle","首页"]],[[1,"id",0],[1,"aria-labelledby",0]],null,null,We.b,We.a)),l._4(245760,null,0,Ye.a,[Xe.a,$t.a,fe.a,he.a,l.k,l.z,l.F,l.j,l.h,zt.h,ee.a,[2,de.a],Nt.a,l.l],{root:[0,"root"],tabTitle:[1,"tabTitle"],tabIcon:[2,"tabIcon"]},null),(t()(),l._25(0,["\n  "])),(t()(),l._5(0,null,0,1,"ion-tab",[["role","tabpanel"],["tabIcon","contacts"],["tabTitle","我的"]],[[1,"id",0],[1,"aria-labelledby",0]],null,null,We.b,We.a)),l._4(245760,null,0,Ye.a,[Xe.a,$t.a,fe.a,he.a,l.k,l.z,l.F,l.j,l.h,zt.h,ee.a,[2,de.a],Nt.a,l.l],{root:[0,"root"],tabTitle:[1,"tabTitle"],tabIcon:[2,"tabIcon"]},null),(t()(),l._25(0,["\n"])),(t()(),l._25(null,["\n"]))],function(t,e){var n=e.component;t(e,5,0,n.tab1Root,"首页","home");t(e,8,0,n.tab2Root,"我的","contacts")},function(t,e){t(e,4,0,l._18(e,5)._tabId,l._18(e,5)._btnId),t(e,7,0,l._18(e,8)._tabId,l._18(e,8)._btnId)})}Object.defineProperty(e,"__esModule",{value:!0});var c=n(33),l=n(0),_=n(64),f=(n(32),n(89)),h=n(90),d=n(13),p=n(20),b=function(){function t(t,e){this.navCtrl=t,this.store=e,this.pet="dev",this.isLogin=this.store.select(p.x)}return t.prototype.toAdd=function(){this.navCtrl.push("add")},t}(),g=function(){return function(){this.tab1Root=b,this.tab2Root="mine"}}(),y=function(){return function(t,e,n){this.rootPage=g,t.ready().then(function(){e.styleDefault(),n.hide()})}}(),m=n(297),j=n(36),v=(n(58),n(125),n(126),n(91),n(39)),O=n(4),S=n(114),R=n(48),w=n(115),C=n(37),T=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},I=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},A=function(){return function(t,e,n){var i=this;this.actions$=t,this.store$=e,this.service=n,this.loadTopics$=this.actions$.ofType(S.c,S.i).map(j.d).switchMap(function(t){var e=t.tabName,n=t.pageIndex;return i.service.getTopics(e,n,15,!1).map(function(t){return new S.h({tabName:e,topics:t,pageIndex:n})}).catch(function(){return Object(v.of)(new S.g(""))})}),this.loadTopicById$=this.actions$.ofType(R.u).map(function(t){return t.payload}).withLatestFrom(this.store$.select(p.b)).mergeMap(function(t){var e=t[0],n=t[1];return i.service.getTopicById(e,n).map(function(t){return new R.B(t)}).catch(function(){return Object(v.of)(new R.A(""))})}),this.upReply$=this.actions$.ofType(R.I).map(function(t){return t.payload}).withLatestFrom(this.store$.select(p.b)).mergeMap(function(t){var e=t[0],n=t[1];return i.service.upReply(n,e).map(function(t){return new R.M(t)}).catch(function(t){return Object(v.of)(new R.L(t))})}),this.collect$=this.actions$.ofType(R.d).map(function(t){return t.payload}).withLatestFrom(this.store$.select(p.b)).mergeMap(function(t){var e=t[0],n=t[1];return i.service.collect(n,e).map(function(t){return new R.i}).catch(function(t){return Object(v.of)(new R.h("收藏主题失败."))})}),this.deCollect$=this.actions$.ofType(R.j).map(function(t){return t.payload}).withLatestFrom(this.store$.select(p.b)).mergeMap(function(t){var e=t[0],n=t[1];return i.service.deCollect(n,e).map(function(t){return new R.o}).catch(function(t){return Object(v.of)(new R.n("取消收藏主题失败."))})}),this.reply$=this.actions$.ofType(w.a).map(function(t){return t.payload}).withLatestFrom(this.store$.select(p.b)).mergeMap(function(t){var e=t[0],n=e.topicId,r=e.content,o=e.replyId,s=t[1];return i.service.replies(s,n,r,o).filter(function(t){return t.success}).mergeMap(function(){return i.service.getTopicById(n,s).map(function(t){return new w.f(t)})}).catch(function(t){var e=t.json().error_msg;return Object(v.of)(new w.e(e))})}),this.add$=this.actions$.ofType(R.a).map(function(t){return t.payload}).withLatestFrom(this.store$.select(p.b)).mergeMap(function(t){var e=t[0],n=t[1];return i.service.addTopic(n,e).map(function(t){if(!0===t.success)return i.store$.dispatch(new S.j({tabName:e.tab,pageIndex:1})),new R.E;var n=t.error_msg;return new R.D(n)})}).catch(function(t){return Object(v.of)(new R.D("新建主题失败."))}),this.edit$=this.actions$.ofType(R.p).map(function(t){return t.payload}).withLatestFrom(this.store$.select(p.b)).mergeMap(function(t){var e=t[0],n=t[1];return i.service.editTopic(n,e).map(function(t){if(!0===t.success){var n=t.topic_id;return i.store$.dispatch(new S.j({tabName:e.tab,pageIndex:1})),i.store$.dispatch(new R.z(n)),new R.H}var r=t.error_msg;return new R.G(r)})}).catch(function(t){return Object(v.of)(new R.G("编辑主题失败."))})}}();T([Object(j.b)(),I("design:type","function"==typeof(E=void 0!==O.Observable&&O.Observable)&&E||Object)],A.prototype,"loadTopics$",void 0),T([Object(j.b)(),I("design:type","function"==typeof(k=void 0!==O.Observable&&O.Observable)&&k||Object)],A.prototype,"loadTopicById$",void 0),T([Object(j.b)(),I("design:type","function"==typeof(P=void 0!==O.Observable&&O.Observable)&&P||Object)],A.prototype,"upReply$",void 0),T([Object(j.b)(),I("design:type","function"==typeof(D=void 0!==O.Observable&&O.Observable)&&D||Object)],A.prototype,"collect$",void 0),T([Object(j.b)(),I("design:type","function"==typeof(F=void 0!==O.Observable&&O.Observable)&&F||Object)],A.prototype,"deCollect$",void 0),T([Object(j.b)(),I("design:type","function"==typeof(M=void 0!==O.Observable&&O.Observable)&&M||Object)],A.prototype,"reply$",void 0),T([Object(j.b)(),I("design:type","function"==typeof(L=void 0!==O.Observable&&O.Observable)&&L||Object)],A.prototype,"add$",void 0),T([Object(j.b)(),I("design:type","function"==typeof(N=void 0!==O.Observable&&O.Observable)&&N||Object)],A.prototype,"edit$",void 0),A=T([Object(l.p)(),I("design:paramtypes",["function"==typeof(U=void 0!==j.a&&j.a)&&U||Object,"function"==typeof($=void 0!==d.l&&d.l)&&$||Object,"function"==typeof(z=void 0!==C.a&&C.a)&&z||Object])],A);n(127),n(299),n(300),n(78),n(301),n(302);var E,k,P,D,F,M,L,N,U,$,z,H=n(42),x=n(98),B=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},G=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},q=function(){function t(t){this.db=t}return t.prototype.getLocalUser=function(){return this.db.query("user").map(function(t){return t}).toArray().map(function(t){return 0===t.length?void 0:t[0]})},t.prototype.removeLocalUser=function(t){return this.db.executeWrite("user","delete",[t]).map(function(){return!0}).catch(function(){return Object(v.of)(!1)})},t.prototype.writeUserToLocal=function(t){return this.db.insert("user",[t]).map(function(t){return!0}).catch(function(){return Object(v.of)(!1)})},t}();q=B([Object(l.p)(),G("design:paramtypes",["function"==typeof(K=void 0!==m.a&&m.a)&&K||Object])],q);var K,V=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},X=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},W=function(){return function(t,e,n,i){var r=this;this.actions$=t,this.store$=e,this.service=n,this.userLocalProvide=i,this.userLogin$=this.actions$.ofType(H.a).map(function(t){return t.payload}).mergeMap(function(t){return r.service.login(t).mergeMap(function(e){if(!0===e.success){var n=e,i=n.loginname,o={loginname:i,id:n.id,avatar_url:n.avatar_url,accessToken:t};return r.userLocalProvide.writeUserToLocal(o).map(function(t){return!0===t?(r.store$.dispatch(new x.f({loginname:i,isSelf:!0})),new H.h(o)):new H.g("用户登陆出现错误.")})}var s=e.error_msg;return Object(v.of)(new H.g(s))}).catch(function(t){return Object(v.of)(new H.g("用户登陆出现异常."))})}),this.userLogOut$=this.actions$.ofType(H.d).withLatestFrom(this.store$.select(p.t)).mergeMap(function(t){var e=t[1].id;return r.userLocalProvide.removeLocalUser(e).map(function(t){return!0===t?new H.k:new H.j("退出登录出现错误")})})}}();V([Object(j.b)(),X("design:type","function"==typeof(Y=void 0!==O.Observable&&O.Observable)&&Y||Object)],W.prototype,"userLogin$",void 0),V([Object(j.b)(),X("design:type","function"==typeof(Z=void 0!==O.Observable&&O.Observable)&&Z||Object)],W.prototype,"userLogOut$",void 0),W=V([Object(l.p)(),X("design:paramtypes",["function"==typeof(J=void 0!==j.a&&j.a)&&J||Object,"function"==typeof(Q=void 0!==d.l&&d.l)&&Q||Object,"function"==typeof(tt=void 0!==C.a&&C.a)&&tt||Object,"function"==typeof(et=void 0!==q&&q)&&et||Object])],W);n(378);var Y,Z,J,Q,tt,et,nt=n(381),it=n(171),rt=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ot=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},st=function(){return function(t,e){var n=this;this.actions$=t,this.provider=e,this.init$$=this.actions$.ofType(it.a).switchMap(function(){return n.provider.getLocalUser().map(function(t){return new it.d(t)})}),this.init$=Object(nt.defer)(function(){return Object(v.of)(new it.c)})}}();rt([Object(j.b)(),ot("design:type","function"==typeof(ut=void 0!==O.Observable&&O.Observable)&&ut||Object)],st.prototype,"init$$",void 0),rt([Object(j.b)(),ot("design:type",Object)],st.prototype,"init$",void 0),st=rt([Object(l.p)(),ot("design:paramtypes",["function"==typeof(at=void 0!==j.a&&j.a)&&at||Object,"function"==typeof(ct=void 0!==q&&q)&&ct||Object])],st);var ut,at,ct,lt=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},_t=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ft=function(){return function(t,e){var n=this;this.actions$=t,this.service=e,this.userDetial$=this.actions$.ofType(x.a).map(function(t){return t.payload}).mergeMap(function(t){var e=t.loginname,i=t.isSelf;return n.service.getUserInfo(e).map(function(t){return t.success?i?new x.i(t.data):new x.j(t.data):i?new x.h("出现错误."):new x.g("出现错误.")}).catch(function(t){return Object(v.of)(new x.g(t))})})}}();lt([Object(j.b)(),_t("design:type","function"==typeof(ht=void 0!==O.Observable&&O.Observable)&&ht||Object)],ft.prototype,"userDetial$",void 0),ft=lt([Object(l.p)(),_t("design:paramtypes",["function"==typeof(dt=void 0!==j.a&&j.a)&&dt||Object,"function"==typeof(pt=void 0!==C.a&&C.a)&&pt||Object])],ft);var ht,dt,pt,bt=n(116),gt=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},yt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},mt=function(){return function(t,e,n){var i=this;this.actions$=t,this.provide$=e,this.store$=n,this.message$=this.actions$.ofType(bt.a).withLatestFrom(this.store$.select(p.b)).mergeMap(function(t){var e=t[1];return i.provide$.getMessages(e).map(function(t){return t.success?new bt.f(t.data):new bt.e("加载用户消息出现错误")})}).catch(function(t){return Object(v.of)(new bt.e("加载用户消息出现异常"))})}}();gt([Object(j.b)(),yt("design:type","function"==typeof(jt=void 0!==O.Observable&&O.Observable)&&jt||Object)],mt.prototype,"message$",void 0),mt=gt([Object(l.p)(),yt("design:paramtypes",["function"==typeof(vt=void 0!==j.a&&j.a)&&vt||Object,"function"==typeof(Ot=void 0!==C.a&&C.a)&&Ot||Object,"function"==typeof(St=void 0!==d.l&&d.l)&&St||Object])],mt);var jt,vt,Ot,St,Rt=n(383),wt=n(142),Ct=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Tt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},It=function(){return function(t,e,n){var i=this;this.store$=t,this.actions$=e,this.service$=n,this.load$=this.actions$.ofType(wt.a).withLatestFrom(this.store$.select(p.t)).mergeMap(function(t){var e=t[1].loginname;return i.service$.getUserCollect(e).map(function(t){var e=t.success,n=t.data;return!0===e?new wt.f(n):new wt.e("获取用户收藏出现错误。")})}).catch(function(t){return Object(Rt.of)(new wt.e("获取用户收藏出现异常。"))})}}();Ct([Object(j.b)(),Tt("design:type","function"==typeof(At=void 0!==O.Observable&&O.Observable)&&At||Object)],It.prototype,"load$",void 0),It=Ct([Object(l.p)(),Tt("design:paramtypes",["function"==typeof(Et=void 0!==d.l&&d.l)&&Et||Object,"function"==typeof(kt=void 0!==j.a&&j.a)&&kt||Object,"function"==typeof(Pt=void 0!==C.a&&C.a)&&Pt||Object])],It);var At,Et,kt,Pt,Dt=n(129),Ft=function(){return function(){}}(),Mt=n(12),Lt=n(295),Nt=n(8),Ut=n(51),$t=n(7),zt=n(10),Ht=n(113),xt=n(18),Bt=n(132),Gt=n(131),qt=n(298),Kt=n(119),Vt=n(95),Xt=n(96),Wt=n(118),Yt=n(19),Zt=n(80),Jt=n(22),Qt=n(121),te=n(93),ee=n(26),ne=n(304),ie=n(305),re=n(306),oe=n(307),se=n(308),ue=n(309),ae=n(387),ce=n(79),le=n(6),_e=n(14),fe=n(2),he=n(5),de=n(15),pe=n(35),be=[],ge=l._3({encapsulation:2,styles:be,data:{}}),ye=l._2("ng-component",y,function(t){return l._27(0,[(t()(),l._5(0,null,null,1,"ng-component",[],null,null,null,i,ge)),l._4(49152,null,0,y,[he.a,f.a,h.a],null,null)],null,null)},{},{},[]),me=n(388),je=n(76),ve=n(389),Oe=n(45),Se=n(30),Re=n(92),we=n(316),Ce=n(40),Te=n(123),Ie=n(390),Ae=n(60),Ee=n(133),ke=n(29),Pe=n(315),De=n(94),Fe=n(117),Me=n(59),Le=n(391),Ne=n(83),Ue=n(67),$e=n(56),ze=n(392),He=n(77),xe=[],Be=l._3({encapsulation:2,styles:xe,data:{}}),Ge=(l._2("cnode-topic-list",Fe.a,function(t){return l._27(0,[(t()(),l._5(0,null,null,1,"cnode-topic-list",[],null,null,null,o,Be)),l._4(573440,null,0,Fe.a,[d.l],null,null)],null,null)},{tabName:"tabName"},{},[]),[]),qe=l._3({encapsulation:2,styles:Ge,data:{}}),Ke=l._2("page-home",b,function(t){return l._27(0,[(t()(),l._5(0,null,null,1,"page-home",[],null,null,null,u,qe)),l._4(49152,null,0,b,[_e.a,d.l],null,null)],null,null)},{},{},[]),Ve=n(393),Xe=n(46),We=n(394),Ye=n(85),Ze=[],Je=l._3({encapsulation:2,styles:Ze,data:{}}),Qe=l._2("ng-component",g,function(t){return l._27(0,[(t()(),l._5(0,null,null,1,"ng-component",[],null,null,null,a,Je)),l._4(49152,null,0,g,[],null,null)],null,null)},{},{},[]),tn=n(54),en=n(120),nn=n(65),rn=n(122),on=n(167),sn=n(168),un=n(170),an=n(172),cn=n(173),ln=n(174),_n=n(175),fn=n(50),hn=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dn=function(t){function e(e){return t.call(this,e,[ne.a,ie.a,re.a,oe.a,se.a,ue.a,ye,Ke,Qe],[re.a])||this}return hn(e,t),Object.defineProperty(e.prototype,"_LOCALE_ID_70",{get:function(){return null==this.__LOCALE_ID_70&&(this.__LOCALE_ID_70=l._16(this.parent.get(l.u,null))),this.__LOCALE_ID_70},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_NgLocalization_71",{get:function(){return null==this.__NgLocalization_71&&(this.__NgLocalization_71=new Mt.j(this._LOCALE_ID_70)),this.__NgLocalization_71},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_APP_ID_72",{get:function(){return null==this.__APP_ID_72&&(this.__APP_ID_72=l._7()),this.__APP_ID_72},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_IterableDiffers_73",{get:function(){return null==this.__IterableDiffers_73&&(this.__IterableDiffers_73=l._13()),this.__IterableDiffers_73},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_KeyValueDiffers_74",{get:function(){return null==this.__KeyValueDiffers_74&&(this.__KeyValueDiffers_74=l._15()),this.__KeyValueDiffers_74},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_DomSanitizer_75",{get:function(){return null==this.__DomSanitizer_75&&(this.__DomSanitizer_75=new c.s(this.parent.get(c.b))),this.__DomSanitizer_75},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Sanitizer_76",{get:function(){return null==this.__Sanitizer_76&&(this.__Sanitizer_76=this._DomSanitizer_75),this.__Sanitizer_76},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_HAMMER_GESTURE_CONFIG_77",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_77&&(this.__HAMMER_GESTURE_CONFIG_77=new Kt.a),this.__HAMMER_GESTURE_CONFIG_77},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_EVENT_MANAGER_PLUGINS_78",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_78&&(this.__EVENT_MANAGER_PLUGINS_78=[new c.l(this.parent.get(c.b)),new c.p(this.parent.get(c.b)),new c.o(this.parent.get(c.b),this._HAMMER_GESTURE_CONFIG_77)]),this.__EVENT_MANAGER_PLUGINS_78},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_EventManager_79",{get:function(){return null==this.__EventManager_79&&(this.__EventManager_79=new c.e(this._EVENT_MANAGER_PLUGINS_78,this.parent.get(l.z))),this.__EventManager_79},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵDomSharedStylesHost_80",{get:function(){return null==this.__ɵDomSharedStylesHost_80&&(this.__ɵDomSharedStylesHost_80=new c.n(this.parent.get(c.b))),this.__ɵDomSharedStylesHost_80},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵDomRendererFactory2_81",{get:function(){return null==this.__ɵDomRendererFactory2_81&&(this.__ɵDomRendererFactory2_81=new c.m(this._EventManager_79,this._ɵDomSharedStylesHost_80)),this.__ɵDomRendererFactory2_81},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_RendererFactory2_82",{get:function(){return null==this.__RendererFactory2_82&&(this.__RendererFactory2_82=this._ɵDomRendererFactory2_81),this.__RendererFactory2_82},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵSharedStylesHost_83",{get:function(){return null==this.__ɵSharedStylesHost_83&&(this.__ɵSharedStylesHost_83=this._ɵDomSharedStylesHost_80),this.__ɵSharedStylesHost_83},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Testability_84",{get:function(){return null==this.__Testability_84&&(this.__Testability_84=new l.N(this.parent.get(l.z))),this.__Testability_84},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Meta_85",{get:function(){return null==this.__Meta_85&&(this.__Meta_85=new c.h(this.parent.get(c.b))),this.__Meta_85},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Title_86",{get:function(){return null==this.__Title_86&&(this.__Title_86=new c.j(this.parent.get(c.b))),this.__Title_86},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵi_87",{get:function(){return null==this.__ɵi_87&&(this.__ɵi_87=new xt.r),this.__ɵi_87},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_FormBuilder_88",{get:function(){return null==this.__FormBuilder_88&&(this.__FormBuilder_88=new xt.d),this.__FormBuilder_88},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ActionSheetController_91",{get:function(){return null==this.__ActionSheetController_91&&(this.__ActionSheetController_91=new Vt.a(this._App_8,this._Config_5)),this.__ActionSheetController_91},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_AlertController_92",{get:function(){return null==this.__AlertController_92&&(this.__AlertController_92=new Xt.a(this._App_8,this._Config_5)),this.__AlertController_92},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Events_93",{get:function(){return null==this.__Events_93&&(this.__Events_93=new Wt.a),this.__Events_93},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Form_94",{get:function(){return null==this.__Form_94&&(this.__Form_94=new Yt.a),this.__Form_94},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Haptic_95",{get:function(){return null==this.__Haptic_95&&(this.__Haptic_95=new Zt.a(this._Platform_4)),this.__Haptic_95},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Keyboard_96",{get:function(){return null==this.__Keyboard_96&&(this.__Keyboard_96=new Jt.a(this._Config_5,this._Platform_4,this.parent.get(l.z),this._DomController_6)),this.__Keyboard_96},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_LocationStrategy_98",{get:function(){return null==this.__LocationStrategy_98&&(this.__LocationStrategy_98=Bt.c(this.parent.get(Mt.q),this._APP_BASE_HREF_90,this._Config_5)),this.__LocationStrategy_98},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Location_99",{get:function(){return null==this.__Location_99&&(this.__Location_99=new Mt.e(this._LocationStrategy_98)),this.__Location_99},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_UrlSerializer_100",{get:function(){return null==this.__UrlSerializer_100&&(this.__UrlSerializer_100=tn.d(this._App_8,this._DeepLinkConfigToken_10)),this.__UrlSerializer_100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_DeepLinker_101",{get:function(){return null==this.__DeepLinker_101&&(this.__DeepLinker_101=de.b(this._App_8,this._UrlSerializer_100,this._Location_99,this._ModuleLoader_13,this.componentFactoryResolver)),this.__DeepLinker_101},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_TapClick_105",{get:function(){return null==this.__TapClick_105&&(this.__TapClick_105=new Qt.a(this._Config_5,this._Platform_4,this._DomController_6,this._App_8,this._GestureController_9)),this.__TapClick_105},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ToastController_106",{get:function(){return null==this.__ToastController_106&&(this.__ToastController_106=new te.a(this._App_8,this._Config_5)),this.__ToastController_106},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_TransitionController_107",{get:function(){return null==this.__TransitionController_107&&(this.__TransitionController_107=new ee.a(this._Platform_4,this._Config_5)),this.__TransitionController_107},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_StatusBar_108",{get:function(){return null==this.__StatusBar_108&&(this.__StatusBar_108=new f.a),this.__StatusBar_108},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_SplashScreen_109",{get:function(){return null==this.__SplashScreen_109&&(this.__SplashScreen_109=new h.a),this.__SplashScreen_109},enumerable:!0,configurable:!0}),e.prototype.createInternal=function(){return this._CommonModule_0=new Mt.c,this._ErrorHandler_1=new Lt.a,this._ConfigToken_2={tabsHideOnSubPages:"true"},this._PlatformConfigToken_3=en.b(),this._Platform_4=he.b(this.parent.get(c.b),this._PlatformConfigToken_3,this.parent.get(l.z)),this._Config_5=fe.c(this._ConfigToken_2,this._Platform_4),this._DomController_6=new Nt.a(this._Platform_4),this._MenuController_7=new Ut.a,this._App_8=new $t.a(this._Config_5,this._Platform_4,this._MenuController_7),this._GestureController_9=new zt.h(this._App_8),this._DeepLinkConfigToken_10={links:[{loadChildren:"../pages/add/add.module.ngfactory#AddPageModuleNgFactory",name:"add",segment:"add",priority:"low",defaultHistory:[]},{loadChildren:"../pages/article/article.module.ngfactory#ArticlePageModuleNgFactory",name:"ArticlePage",segment:"topic/:tabName/:id",priority:"low",defaultHistory:[]},{loadChildren:"../pages/collect/collect.module.ngfactory#CollectPageModuleNgFactory",name:"CollectPage",segment:"collect",priority:"low",defaultHistory:[]},{loadChildren:"../pages/detials/detials.module.ngfactory#DetialsPageModuleNgFactory",name:"page-detials",segment:"user/:loginname",priority:"low",defaultHistory:[]},{loadChildren:"../pages/edit/edit.module.ngfactory#EditPageModuleNgFactory",name:"edit",segment:"edit",priority:"low",defaultHistory:[]},{loadChildren:"../pages/foot-mark/foot-mark.module.ngfactory#FootMarkPageModuleNgFactory",name:"FootMarkPage",segment:"footMark",priority:"low",defaultHistory:[]},{loadChildren:"../pages/message/message.module.ngfactory#MessagePageModuleNgFactory",name:"MessagePage",segment:"messages",priority:"low",defaultHistory:[]},{loadChildren:"../pages/mine/mine.module.ngfactory#MinePageModuleNgFactory",name:"mine",segment:"mine",priority:"low",defaultHistory:[]}]},this._Compiler_11=new l.i,this._NgModuleLoader_12=new Ht.a(this._Compiler_11),this._ModuleLoader_13=nn.c(this._NgModuleLoader_12,this),this._APP_INITIALIZER_14=[l._19,c.r(this.parent.get(c.i,null),this.parent.get(l.y,null)),rn.a(this._Config_5),Wt.b(this._Platform_4,this._DomController_6),Qt.b(this._Config_5,this._Platform_4,this._DomController_6,this._App_8,this._GestureController_9),nn.d(this._Config_5,this._DeepLinkConfigToken_10,this._ModuleLoader_13,this.parent.get(l.z))],this._ApplicationInitStatus_15=new l.d(this._APP_INITIALIZER_14),this._ɵf_16=new l._6(this.parent.get(l.z),this.parent.get(l.Z),this,this._ErrorHandler_1,this.componentFactoryResolver,this._ApplicationInitStatus_15),this._ApplicationRef_17=this._ɵf_16,this._ApplicationModule_18=new l.e(this._ApplicationRef_17),this._BrowserModule_19=new c.a(this.parent.get(c.a,null)),this._HttpModule_20=new _.e,this._ɵba_21=new xt.p,this._FormsModule_22=new xt.e,this._ReactiveFormsModule_23=new xt.n,this._IonicModule_24=new Bt.a,this._DirectivesModule_25=new Gt.a,this._ComponentsModule_26=new Dt.a,this._ActionsSubject_27=new d.a,this._ReducerManagerDispatcher_28=this._ActionsSubject_27,this.__INITIAL_STATE_29=void 0,this._INITIAL_STATE_30=d.t(this.__INITIAL_STATE_29),this.__INITIAL_REDUCERS_31={topics:on.f,topic:sn.f,user:un.h,ud:an.f,msg:cn.d,collect:ln.f,form:_n.c},this.__STORE_REDUCERS_32=this.__INITIAL_REDUCERS_31,this._INITIAL_REDUCERS_33=d.s(this,this.__INITIAL_REDUCERS_31,this.__STORE_REDUCERS_32),this.__REDUCER_FACTORY_34=d.u,this._META_REDUCERS_35=[],this._REDUCER_FACTORY_36=d.w(this.__REDUCER_FACTORY_34,this._META_REDUCERS_35),this._ReducerManager_37=new d.f(this._ReducerManagerDispatcher_28,this._INITIAL_STATE_30,this._INITIAL_REDUCERS_33,this._REDUCER_FACTORY_36),this._ReducerObservable_38=this._ReducerManager_37,this._ScannedActionsSubject_39=new d.i,this._StoreRootModule_40=new d.n(this._ActionsSubject_27,this._ReducerObservable_38,this._ScannedActionsSubject_39),this._ɵf_41=j.f(),this._ɵh_42=new j.j(this._ɵf_41),this._EffectSources_43=new j.c(this._ɵh_42),this._State_44=new d.j(this._ActionsSubject_27,this._ReducerObservable_38,this._ScannedActionsSubject_39,this._INITIAL_STATE_30),this._StateObservable_45=this._State_44,this._Store_46=new d.l(this._StateObservable_45,this._ActionsSubject_27,this._ReducerManager_37),this._ɵi_47=new j.k(this._EffectSources_43,this._Store_46),this._Actions_48=new j.a(this._ScannedActionsSubject_39),this._BrowserXhr_49=new _.c,this._ResponseOptions_50=new _.b,this._XSRFStrategy_51=_.j(),this._XHRBackend_52=new _.h(this._BrowserXhr_49,this._ResponseOptions_50,this._XSRFStrategy_51),this._RequestOptions_53=new _.a,this._Http_54=_.k(this._XHRBackend_52,this._RequestOptions_53),this._CnodeWebApiProvider_55=new C.a(this._Http_54),this._TopicEffects_56=new A(this._Actions_48,this._Store_46,this._CnodeWebApiProvider_55),this._DatabaseBackend_57=qt.e(),this._IDB_SCHEMA_58={version:1,name:"cnode_app",stores:{user:{autoIncrement:!1,primaryKey:"id"}}},this._Database_59=new qt.b(this._DatabaseBackend_57,this._IDB_SCHEMA_58),this._CnodeUserProvider_60=new q(this._Database_59),this._UserEffects_61=new W(this._Actions_48,this._Store_46,this._CnodeWebApiProvider_55,this._CnodeUserProvider_60),this._AppEffect_62=new st(this._Actions_48,this._CnodeUserProvider_60),this._UserDetialsEffects_63=new ft(this._Actions_48,this._CnodeWebApiProvider_55),this._MessageEffects_64=new mt(this._Actions_48,this._CnodeWebApiProvider_55,this._Store_46),this._CollectEffects_65=new It(this._Store_46,this._Actions_48,this._CnodeWebApiProvider_55),this._ɵd_66=j.e(this._TopicEffects_56,this._UserEffects_61,this._AppEffect_62,this._UserDetialsEffects_63,this._MessageEffects_64,this._CollectEffects_65),this._ɵg_67=new j.i(this._EffectSources_43,this._ɵi_47,this._ɵd_66,this.parent.get(d.m,null)),this._DBModule_68=new qt.a,this._AppModule_69=new Ft,this._AppRootToken_89=y,this._APP_BASE_HREF_90="/",this._AppModule_69},e.prototype.getInternal=function(t,e){return t===Mt.c?this._CommonModule_0:t===l.l?this._ErrorHandler_1:t===fe.b?this._ConfigToken_2:t===en.a?this._PlatformConfigToken_3:t===he.a?this._Platform_4:t===fe.a?this._Config_5:t===Nt.a?this._DomController_6:t===Ut.a?this._MenuController_7:t===$t.a?this._App_8:t===zt.h?this._GestureController_9:t===tn.a?this._DeepLinkConfigToken_10:t===l.i?this._Compiler_11:t===Ht.a?this._NgModuleLoader_12:t===nn.b?this._ModuleLoader_13:t===l.c?this._APP_INITIALIZER_14:t===l.d?this._ApplicationInitStatus_15:t===l._6?this._ɵf_16:t===l.f?this._ApplicationRef_17:t===l.e?this._ApplicationModule_18:t===c.a?this._BrowserModule_19:t===_.e?this._HttpModule_20:t===xt.p?this._ɵba_21:t===xt.e?this._FormsModule_22:t===xt.n?this._ReactiveFormsModule_23:t===Bt.a?this._IonicModule_24:t===Gt.a?this._DirectivesModule_25:t===Dt.a?this._ComponentsModule_26:t===d.a?this._ActionsSubject_27:t===d.g?this._ReducerManagerDispatcher_28:t===d.p?this.__INITIAL_STATE_29:t===d.c?this._INITIAL_STATE_30:t===d.o?this.__INITIAL_REDUCERS_31:t===d.r?this.__STORE_REDUCERS_32:t===d.b?this._INITIAL_REDUCERS_33:t===d.q?this.__REDUCER_FACTORY_34:t===d.d?this._META_REDUCERS_35:t===d.e?this._REDUCER_FACTORY_36:t===d.f?this._ReducerManager_37:t===d.h?this._ReducerObservable_38:t===d.i?this._ScannedActionsSubject_39:t===d.n?this._StoreRootModule_40:t===j.h?this._ɵf_41:t===j.j?this._ɵh_42:t===j.c?this._EffectSources_43:t===d.j?this._State_44:t===d.k?this._StateObservable_45:t===d.l?this._Store_46:t===j.k?this._ɵi_47:t===j.a?this._Actions_48:t===_.c?this._BrowserXhr_49:t===_.g?this._ResponseOptions_50:t===_.i?this._XSRFStrategy_51:t===_.h?this._XHRBackend_52:t===_.f?this._RequestOptions_53:t===_.d?this._Http_54:t===C.a?this._CnodeWebApiProvider_55:t===A?this._TopicEffects_56:t===qt.c?this._DatabaseBackend_57:t===qt.d?this._IDB_SCHEMA_58:t===qt.b?this._Database_59:t===q?this._CnodeUserProvider_60:t===W?this._UserEffects_61:t===st?this._AppEffect_62:t===ft?this._UserDetialsEffects_63:t===mt?this._MessageEffects_64:t===It?this._CollectEffects_65:t===j.g?this._ɵd_66:t===j.i?this._ɵg_67:t===qt.a?this._DBModule_68:t===Ft?this._AppModule_69:t===l.u?this._LOCALE_ID_70:t===Mt.k?this._NgLocalization_71:t===l.b?this._APP_ID_72:t===l.s?this._IterableDiffers_73:t===l.t?this._KeyValueDiffers_74:t===c.c?this._DomSanitizer_75:t===l.I?this._Sanitizer_76:t===c.f?this._HAMMER_GESTURE_CONFIG_77:t===c.d?this._EVENT_MANAGER_PLUGINS_78:t===c.e?this._EventManager_79:t===c.n?this._ɵDomSharedStylesHost_80:t===c.m?this._ɵDomRendererFactory2_81:t===l.G?this._RendererFactory2_82:t===c.q?this._ɵSharedStylesHost_83:t===l.N?this._Testability_84:t===c.h?this._Meta_85:t===c.j?this._Title_86:t===xt.r?this._ɵi_87:t===xt.d?this._FormBuilder_88:t===fn.a?this._AppRootToken_89:t===Mt.a?this._APP_BASE_HREF_90:t===Vt.a?this._ActionSheetController_91:t===Xt.a?this._AlertController_92:t===Wt.a?this._Events_93:t===Yt.a?this._Form_94:t===Zt.a?this._Haptic_95:t===Jt.a?this._Keyboard_96:t===Mt.f?this._LocationStrategy_98:t===Mt.e?this._Location_99:t===tn.b?this._UrlSerializer_100:t===de.a?this._DeepLinker_101:t===Qt.a?this._TapClick_105:t===te.a?this._ToastController_106:t===ee.a?this._TransitionController_107:t===f.a?this._StatusBar_108:t===h.a?this._SplashScreen_109:e},e.prototype.destroyInternal=function(){this._ɵf_16.ngOnDestroy(),this._ActionsSubject_27.ngOnDestroy(),this._ReducerManager_37.ngOnDestroy(),this._ScannedActionsSubject_39.ngOnDestroy(),this._State_44.ngOnDestroy(),this._ɵi_47.ngOnDestroy(),this.__ɵDomSharedStylesHost_80&&this._ɵDomSharedStylesHost_80.ngOnDestroy()},e}(l._0),pn=new l.w(dn,Ft);Object(l.T)(),Object(c.k)().bootstrapModuleFactory(pn)},349:function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./af":176,"./af.js":176,"./ar":177,"./ar-dz":178,"./ar-dz.js":178,"./ar-kw":179,"./ar-kw.js":179,"./ar-ly":180,"./ar-ly.js":180,"./ar-ma":181,"./ar-ma.js":181,"./ar-sa":182,"./ar-sa.js":182,"./ar-tn":183,"./ar-tn.js":183,"./ar.js":177,"./az":184,"./az.js":184,"./be":185,"./be.js":185,"./bg":186,"./bg.js":186,"./bn":187,"./bn.js":187,"./bo":188,"./bo.js":188,"./br":189,"./br.js":189,"./bs":190,"./bs.js":190,"./ca":191,"./ca.js":191,"./cs":192,"./cs.js":192,"./cv":193,"./cv.js":193,"./cy":194,"./cy.js":194,"./da":195,"./da.js":195,"./de":196,"./de-at":197,"./de-at.js":197,"./de-ch":198,"./de-ch.js":198,"./de.js":196,"./dv":199,"./dv.js":199,"./el":200,"./el.js":200,"./en-au":201,"./en-au.js":201,"./en-ca":202,"./en-ca.js":202,"./en-gb":203,"./en-gb.js":203,"./en-ie":204,"./en-ie.js":204,"./en-nz":205,"./en-nz.js":205,"./eo":206,"./eo.js":206,"./es":207,"./es-do":208,"./es-do.js":208,"./es.js":207,"./et":209,"./et.js":209,"./eu":210,"./eu.js":210,"./fa":211,"./fa.js":211,"./fi":212,"./fi.js":212,"./fo":213,"./fo.js":213,"./fr":214,"./fr-ca":215,"./fr-ca.js":215,"./fr-ch":216,"./fr-ch.js":216,"./fr.js":214,"./fy":217,"./fy.js":217,"./gd":218,"./gd.js":218,"./gl":219,"./gl.js":219,"./gom-latn":220,"./gom-latn.js":220,"./he":221,"./he.js":221,"./hi":222,"./hi.js":222,"./hr":223,"./hr.js":223,"./hu":224,"./hu.js":224,"./hy-am":225,"./hy-am.js":225,"./id":226,"./id.js":226,"./is":227,"./is.js":227,"./it":228,"./it.js":228,"./ja":229,"./ja.js":229,"./jv":230,"./jv.js":230,"./ka":231,"./ka.js":231,"./kk":232,"./kk.js":232,"./km":233,"./km.js":233,"./kn":234,"./kn.js":234,"./ko":235,"./ko.js":235,"./ky":236,"./ky.js":236,"./lb":237,"./lb.js":237,"./lo":238,"./lo.js":238,"./lt":239,"./lt.js":239,"./lv":240,"./lv.js":240,"./me":241,"./me.js":241,"./mi":242,"./mi.js":242,"./mk":243,"./mk.js":243,"./ml":244,"./ml.js":244,"./mr":245,"./mr.js":245,"./ms":246,"./ms-my":247,"./ms-my.js":247,"./ms.js":246,"./my":248,"./my.js":248,"./nb":249,"./nb.js":249,"./ne":250,"./ne.js":250,"./nl":251,"./nl-be":252,"./nl-be.js":252,"./nl.js":251,"./nn":253,"./nn.js":253,"./pa-in":254,"./pa-in.js":254,"./pl":255,"./pl.js":255,"./pt":256,"./pt-br":257,"./pt-br.js":257,"./pt.js":256,"./ro":258,"./ro.js":258,"./ru":259,"./ru.js":259,"./sd":260,"./sd.js":260,"./se":261,"./se.js":261,"./si":262,"./si.js":262,"./sk":263,"./sk.js":263,"./sl":264,"./sl.js":264,"./sq":265,"./sq.js":265,"./sr":266,"./sr-cyrl":267,"./sr-cyrl.js":267,"./sr.js":266,"./ss":268,"./ss.js":268,"./sv":269,"./sv.js":269,"./sw":270,"./sw.js":270,"./ta":271,"./ta.js":271,"./te":272,"./te.js":272,"./tet":273,"./tet.js":273,"./th":274,"./th.js":274,"./tl-ph":275,"./tl-ph.js":275,"./tlh":276,"./tlh.js":276,"./tr":277,"./tr.js":277,"./tzl":278,"./tzl.js":278,"./tzm":279,"./tzm-latn":280,"./tzm-latn.js":280,"./tzm.js":279,"./uk":281,"./uk.js":281,"./ur":282,"./ur.js":282,"./uz":283,"./uz-latn":284,"./uz-latn.js":284,"./uz.js":283,"./vi":285,"./vi.js":285,"./x-pseudo":286,"./x-pseudo.js":286,"./yo":287,"./yo.js":287,"./zh-cn":288,"./zh-cn.js":288,"./zh-hk":289,"./zh-hk.js":289,"./zh-tw":290,"./zh-tw.js":290};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=349},37:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(0),r=n(64),o=n(58),s=(n.n(o),n(39)),u=(n.n(s),this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}),a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this.http=t,this.baseUrl="https://cnodejs.org/api/v1"}return t.prototype.getTopics=function(t,e,n,i){return void 0===t&&(t=""),void 0===e&&(e=1),void 0===n&&(n=15),void 0===i&&(i=!1),this.http.get(this.baseUrl+"/topics?tab="+t+"&page="+e+"&limit="+n+"&mdrender="+i).map(function(t){return t.json()}).map(function(t){return t.data})},t.prototype.getTopicById=function(t,e){return void 0===e&&(e=""),this.http.get(this.baseUrl+"/topic/"+t+"?accesstoken="+e+"&mdrender=false").map(function(t){return t.json()}).filter(function(t){return t.success}).map(function(t){return t.data})},t.prototype.login=function(t){return this.http.post(this.baseUrl+"/accesstoken",{accesstoken:t}).map(function(t){return t.json()}).catch(this.getError)},t.prototype.upReply=function(t,e){return this.http.post(this.baseUrl+"/reply/"+e+"/ups",{accesstoken:t}).map(function(t){return t.json()}).filter(function(t){return t.success}).map(function(t){return{replyId:e,upType:t.action}})},t.prototype.collect=function(t,e){return this.http.post(this.baseUrl+"/topic_collect/collect",{accesstoken:t,topic_id:e}).map(function(t){return t.json()}).map(function(t){return t})},t.prototype.deCollect=function(t,e){return this.http.post(this.baseUrl+"/topic_collect/de_collect",{accesstoken:t,topic_id:e}).map(function(t){return t.json()}).map(function(t){return t}).catch(function(t,e){return console.log(t),Object(s.of)(!1)})},t.prototype.getUserCollect=function(t){return this.http.get(this.baseUrl+"/topic_collect/"+t).map(function(t){return t.json()})},t.prototype.replies=function(t,e,n,i){return this.http.post(this.baseUrl+"/topic/"+e+"/replies",{accesstoken:t,content:n,reply_id:i}).map(function(t){return t.json()})},t.prototype.getUserInfo=function(t){return this.http.get(this.baseUrl+"/user/"+t).map(function(t){return t.json()}).catch(function(t,e){return Object(s.of)(t)})},t.prototype.getMessages=function(t){return this.http.get(this.baseUrl+"/messages",{params:{accesstoken:t,mdrender:!1}}).map(function(t){return t.json()}).catch(function(t,e){return Object(s.of)(t)})},t.prototype.addTopic=function(t,e){return this.http.post(this.baseUrl+"/topics",u({accesstoken:t},e)).map(function(t){return t.json()}).catch(this.getError)},t.prototype.editTopic=function(t,e){return this.http.post(this.baseUrl+"/topics/update",u({accesstoken:t},e)).map(function(t){return t.json()}).catch(this.getError)},t.prototype.getError=function(t,e){var n=t.json();return Object(s.of)(n)},t}();l=a([Object(i.p)(),c("design:paramtypes",["function"==typeof(_=void 0!==r.d&&r.d)&&_||Object])],l);var _},42:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return c}),n.d(e,"h",function(){return l}),n.d(e,"g",function(){return _}),n.d(e,"i",function(){return f}),n.d(e,"k",function(){return h}),n.d(e,"j",function(){return d});var i="[User] Login",r="[User] Login Success",o="[User] Login Fail",s="[User] Logout",u="[User] Logout Success",a="[User] Logout Fail",c=function(){return function(t){this.payload=t,this.type=i}}(),l=function(){return function(t){this.payload=t,this.type=r}}(),_=function(){return function(t){this.payload=t,this.type=o}}(),f=function(){return function(){this.type=s}}(),h=function(){return function(){this.type=u}}(),d=function(){return function(t){this.payload=t,this.type=a}}()},48:function(t,e,n){"use strict";n.d(e,"u",function(){return i}),n.d(e,"w",function(){return r}),n.d(e,"v",function(){return o}),n.d(e,"I",function(){return s}),n.d(e,"J",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"e",function(){return _}),n.d(e,"j",function(){return f}),n.d(e,"l",function(){return h}),n.d(e,"k",function(){return d}),n.d(e,"a",function(){return p}),n.d(e,"c",function(){return b}),n.d(e,"b",function(){return g}),n.d(e,"p",function(){return y}),n.d(e,"r",function(){return m}),n.d(e,"q",function(){return j}),n.d(e,"s",function(){return v}),n.d(e,"t",function(){return O}),n.d(e,"z",function(){return S}),n.d(e,"B",function(){return R}),n.d(e,"A",function(){return w}),n.d(e,"K",function(){return C}),n.d(e,"M",function(){return T}),n.d(e,"L",function(){return I}),n.d(e,"g",function(){return A}),n.d(e,"i",function(){return E}),n.d(e,"h",function(){return k}),n.d(e,"m",function(){return P}),n.d(e,"o",function(){return D}),n.d(e,"n",function(){return F}),n.d(e,"C",function(){return M}),n.d(e,"E",function(){return L}),n.d(e,"D",function(){return N}),n.d(e,"F",function(){return U}),n.d(e,"H",function(){return $}),n.d(e,"G",function(){return z}),n.d(e,"x",function(){return H}),n.d(e,"y",function(){return x});var i="[Topic] Load",r="[Topic] Load Success",o="[Topic] Load Fail",s="[Topic] Up Reply",u="[Topic] Up Reply Success",a="[Topic] Up Reply Reply",c="[Topic] Collect",l="[Topic] Collect Success",_="[Topic] Collect Fail",f="[Topic] DeCollect",h="[Topic] DeCollect Success",d="[Topic] DeCollect Fail",p="[Topic] Add",b="[Topic] Add Success",g="[Topic] Add Fail",y="[Topic] Edit",m="[Topic] Edit Success",j="[Topic] Edit Fail",v="[Topic] Levae Add Page",O="[Topic] Levae Edit Page",S=function(){return function(t){this.payload=t,this.type=i}}(),R=function(){return function(t){this.payload=t,this.type=r}}(),w=function(){return function(t){this.payload=t,this.type=o}}(),C=function(){return function(t){this.payload=t,this.type=s}}(),T=function(){return function(t){this.payload=t,this.type=u}}(),I=function(){return function(t){this.payload=t,this.type=a}}(),A=function(){return function(t){this.payload=t,this.type=c}}(),E=function(){return function(){this.type=l}}(),k=function(){return function(t){this.payload=t,this.type=_}}(),P=function(){return function(t){this.payload=t,this.type=f}}(),D=function(){return function(){this.type=h}}(),F=function(){return function(t){this.payload=t,this.type=d}}(),M=function(){return function(t){this.payload=t,this.type=p}}(),L=function(){return function(){this.type=b}}(),N=function(){return function(t){this.payload=t,this.type=g}}(),U=function(){return function(t){this.payload=t,this.type=y}}(),$=function(){return function(){this.type=m}}(),z=function(){return function(t){this.payload=t,this.type=j}}(),H=function(){return function(){this.type=v}}(),x=function(){return function(){this.type=O}}()},82:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={loginname:"",avatar_url:"",githubUsername:"",create_at:new Date,score:0,recent_replies:[],recent_topics:[]}},94:function(t,e,n){"use strict";n.d(e,"a",function(){return i});n(0),n(32);var i=function(){function t(t){this.navCtrl=t}return t.prototype.to=function(){this.navCtrl.push("ArticlePage",{id:this.item.id,tabName:this.tabName})},t}()},98:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"e",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"f",function(){return a}),n.d(e,"j",function(){return c}),n.d(e,"g",function(){return l}),n.d(e,"i",function(){return _}),n.d(e,"h",function(){return f});var i="[User Detials] Load",r="[User Detials] Load Success",o="[User Detials] Load Fail",s="[User Detials] Load Self Success",u="[User Detials] Load Self Fail",a=function(){return function(t){this.payload=t,this.type=i}}(),c=function(){return function(t){this.payload=t,this.type=r}}(),l=function(){return function(t){this.payload=t,this.type=o}}(),_=function(){return function(t){this.payload=t,this.type=s}}(),f=function(){return function(t){this.payload=t,this.type=u}}()}},[324]);